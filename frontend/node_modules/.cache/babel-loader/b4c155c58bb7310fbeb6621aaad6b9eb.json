{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Korisnik\\\\OneDrive - UKIM, FINKI\\\\Desktop\\\\lab2\\\\frontend\\\\src\\\\components\\\\App\\\\App.js\";\nimport './App.css';\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Redirect, Route } from 'react-router-dom';\nimport Manufacturers from '../Manufacturers/manufacturers';\nimport Categories from '../Categories/categories';\nimport Products from '../Products/ProductList/products';\nimport Header from '../Header/header';\nimport ProductAdd from '../Products/ProductAdd/productAdd';\nimport EShopService from \"../../repository/eshopRepository\";\nimport ProductEdit from \"../Products/ProductEdit/productEdit\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.loadManufacturers = () => {\n      // loadAuthors\n      EShopService.fetchManufacturers() //fetchAuthors\n      .then(data => {\n        this.setState({\n          manufacturers: data.data //authors\n\n        });\n      });\n    };\n\n    this.loadProducts = () => {\n      //loadBooks\n      EShopService.fetchProducts() //fetchBooks\n      .then(data => {\n        this.setState({\n          products: data.data //books\n\n        });\n      });\n    };\n\n    this.loadCategories = () => {\n      EShopService.fetchCategories().then(data => {\n        this.setState({\n          categories: data.data\n        });\n      });\n    };\n\n    this.deleteProduct = id => {\n      //deleteBook\n      EShopService.deleteProduct(id) //EShopService.deleteBook(id)\n      .then(() => {\n        this.loadProducts(); // this.loadBooks();\n      });\n    };\n\n    this.addProduct = (name, quantity, category, manufacturer) => {\n      //addBook , author\n      EShopService.addProduct(name, quantity, category, manufacturer) //addBook , author\n      .then(() => {\n        this.loadProducts(); //loadBooks();\n      });\n    };\n\n    this.getProduct = id => {\n      //getBook\n      EShopService.getProduct(id) //getBook(id)\n      .then(data => {\n        this.setState({\n          selectedProduct: data.data //selectedBook\n\n        });\n      });\n    };\n\n    this.editProduct = (id, name, quantity, category, manufacturer) => {\n      //editBook, author\n      EShopService.editProduct(id, name, quantity, category, manufacturer) //editBook, author\n      .then(() => {\n        this.loadProducts(); //this.loadBook();\n      });\n    };\n\n    this.state = {\n      manufacturers: [{\n        name: \"Koco\",\n        address: \"Racin\"\n      }],\n      //authors //surname\n      products: [],\n      //books\n      categories: [{\n        name: \"HISTORY\",\n        description: \"desc\"\n      }],\n      selectedProduct: {} //selectedBooks\n\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Router, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/manufacturers\",\n            exact: true,\n            render: () =>\n            /*#__PURE__*/\n            // /authors\n            _jsxDEV(Manufacturers, {\n              manufacturers: this.state.manufacturers\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/categories\",\n            exact: true,\n            render: () => /*#__PURE__*/_jsxDEV(Categories, {\n              categories: this.state.categories\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/products/add\",\n            exact: true,\n            render: () =>\n            /*#__PURE__*/\n            // /books/add\n            _jsxDEV(ProductAdd, {\n              categories: this.state.categories,\n              manufacturers: this.state.manufacturers,\n              onAddProduct: this.addProduct\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/products/edit/:id\",\n            exact: true,\n            render: () =>\n            /*#__PURE__*/\n            // /books/edit/:id\n            _jsxDEV(ProductEdit, {\n              categories: this.state.categories,\n              manufacturers: this.state.manufacturers,\n              onEditProduct: this.editProduct,\n              product: this.state.selectedProduct\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/products\",\n            exact: true,\n            render: () =>\n            /*#__PURE__*/\n            // /books\n            _jsxDEV(Products, {\n              products: this.state.products,\n              onDelete: this.deleteProduct,\n              onEdit: this.getProduct\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/products\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, this);\n  }\n\n  componentDidMount() {\n    this.loadManufacturers(); // this.loadAuthors();\n\n    this.loadCategories();\n    this.loadProducts(); // this.loadBooks();\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Korisnik/OneDrive - UKIM, FINKI/Desktop/lab2/frontend/src/components/App/App.js"],"names":["React","Component","BrowserRouter","Router","Redirect","Route","Manufacturers","Categories","Products","Header","ProductAdd","EShopService","ProductEdit","App","constructor","props","loadManufacturers","fetchManufacturers","then","data","setState","manufacturers","loadProducts","fetchProducts","products","loadCategories","fetchCategories","categories","deleteProduct","id","addProduct","name","quantity","category","manufacturer","getProduct","selectedProduct","editProduct","state","address","description","render","componentDidMount"],"mappings":"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","sourcesContent":["import './App.css';\r\nimport React, {Component} from \"react\";\r\nimport {BrowserRouter as Router, Redirect, Route} from 'react-router-dom'\r\nimport Manufacturers from '../Manufacturers/manufacturers';\r\nimport Categories from '../Categories/categories';\r\nimport Products from '../Products/ProductList/products';\r\nimport Header from '../Header/header';\r\nimport ProductAdd from '../Products/ProductAdd/productAdd';\r\nimport EShopService from \"../../repository/eshopRepository\";\r\nimport ProductEdit from \"../Products/ProductEdit/productEdit\";\r\n\r\nclass App extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      manufacturers: [{name: \"Koco\", address: \"Racin\"}], //authors //surname\r\n      products: [], //books\r\n      categories: [{name: \"HISTORY\", description: \"desc\"}],\r\n      selectedProduct: {} //selectedBooks\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <Router>\r\n          <Header/>\r\n          <main>\r\n            <div className=\"container\">\r\n              <Route path={\"/manufacturers\"} exact render={() => // /authors\r\n                  <Manufacturers manufacturers={this.state.manufacturers}/>}/>\r\n              <Route path={\"/categories\"} exact render={() =>\r\n                  <Categories categories={this.state.categories}/>}/>\r\n              <Route path={\"/products/add\"} exact render={() => // /books/add\r\n                  <ProductAdd categories={this.state.categories}\r\n                              manufacturers={this.state.manufacturers}\r\n                              onAddProduct={this.addProduct}/>}/>\r\n              <Route path={\"/products/edit/:id\"} exact render={() => // /books/edit/:id\r\n                  <ProductEdit categories={this.state.categories}\r\n                               manufacturers={this.state.manufacturers}\r\n                               onEditProduct={this.editProduct}\r\n                               product={this.state.selectedProduct}/>}/>\r\n              <Route path={\"/products\"} exact render={() => // /books\r\n                  <Products products={this.state.products}\r\n                            onDelete={this.deleteProduct}\r\n                            onEdit={this.getProduct}/>}/>\r\n                {/* /books*/}\r\n              <Redirect to={\"/products\"}/>\r\n            </div>\r\n          </main>\r\n        </Router>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadManufacturers(); // this.loadAuthors();\r\n    this.loadCategories();\r\n    this.loadProducts(); // this.loadBooks();\r\n  }\r\n\r\n  loadManufacturers = () => { // loadAuthors\r\n    EShopService.fetchManufacturers() //fetchAuthors\r\n        .then((data) => {\r\n          this.setState({\r\n            manufacturers: data.data //authors\r\n          })\r\n        });\r\n  }\r\n\r\n  loadProducts = () => { //loadBooks\r\n    EShopService.fetchProducts() //fetchBooks\r\n        .then((data) => {\r\n          this.setState({\r\n            products: data.data //books\r\n          })\r\n        });\r\n  }\r\n\r\n  loadCategories = () => {\r\n    EShopService.fetchCategories()\r\n        .then((data) => {\r\n          this.setState({\r\n            categories: data.data\r\n          })\r\n        });\r\n  }\r\n\r\n  deleteProduct = (id) => { //deleteBook\r\n    EShopService.deleteProduct(id) //EShopService.deleteBook(id)\r\n        .then(() => {\r\n          this.loadProducts(); // this.loadBooks();\r\n        });\r\n  }\r\n\r\n  addProduct = (name, quantity, category, manufacturer) => { //addBook , author\r\n    EShopService.addProduct(name, quantity, category, manufacturer) //addBook , author\r\n        .then(() => {\r\n          this.loadProducts(); //loadBooks();\r\n        });\r\n  }\r\n\r\n  getProduct = (id) => { //getBook\r\n    EShopService.getProduct(id) //getBook(id)\r\n        .then((data) => {\r\n          this.setState({\r\n            selectedProduct: data.data //selectedBook\r\n          })\r\n        })\r\n  }\r\n\r\n  editProduct = (id, name,  quantity, category, manufacturer) => { //editBook, author\r\n    EShopService.editProduct(id, name, quantity, category, manufacturer) //editBook, author\r\n        .then(() => {\r\n          this.loadProducts(); //this.loadBook();\r\n        });\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}